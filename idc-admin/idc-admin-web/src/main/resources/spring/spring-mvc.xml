<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd">
    
    <bean
		class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
		<property name="systemPropertiesModeName" value="SYSTEM_PROPERTIES_MODE_OVERRIDE" />
		<property name="ignoreResourceNotFound" value="true" />
		<property name="locations">
			<list>
				<value>classpath:ddc-admin.properties</value>
			</list>
		</property>
	</bean>
	
    <context:component-scan base-package="com.iwellmass.dispatcher.admin.web.controller"/>
    
    <!-- 处理请求时返回json字符串的中文乱码问题 -->
    <mvc:annotation-driven>
        <mvc:message-converters register-defaults="true">
            <bean class="org.springframework.http.converter.StringHttpMessageConverter">
                <constructor-arg value="UTF-8" />
            </bean>
			<bean class="org.springframework.http.converter.json.MappingJackson2HttpMessageConverter">
				<property name="objectMapper">
					<bean class="com.fasterxml.jackson.databind.ObjectMapper">
						<property name="serializationInclusion">
							<value type="com.fasterxml.jackson.annotation.JsonInclude.Include">NON_NULL</value>
						</property>
					</bean>
				</property>
			</bean>
        </mvc:message-converters>
    </mvc:annotation-driven>

    <mvc:resources mapping="/assets/**/**" location="/assets/" />
	<mvc:resources mapping="/fonts/**" location="/fonts/" />
    <!--<bean id="aesKey" class="com.wm.nb.domain.security.AesKey">
		<property name="key" value="${cookie.aes.key}" />
	</bean>-->
	<!-- AES key end -->
	<!--<mvc:interceptors>
		<mvc:interceptor>
			<mvc:mapping path="/**" />
			<mvc:exclude-mapping path="/assets/**" />
			<mvc:exclude-mapping path="/css/**" />
			<mvc:exclude-mapping path="/image/**" />
			<mvc:exclude-mapping path="/js/**" />
			<mvc:exclude-mapping path="/favicon.ico" />
			<mvc:exclude-mapping path="/error.html" />
			<bean class="com.iwellmass.dispatcher.admin.web.interceptor.LoginInterceptor">
				<property name="erpDomain" value="http://${erp.domain.name}" />
				<property name="domain" value= "http://${domain.name}"/>
			</bean>
		</mvc:interceptor>
	</mvc:interceptors>-->
</beans>